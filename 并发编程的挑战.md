---
description: The challenge of concurrency programming.
---

# 并发编程的挑战

并发编程的目的是为了让程序运行得更快，但并不是启动更多的线程就能让程序最大限度的并发执行。下面介绍几种并发编程的挑战以及解决方案。

## 上下文切换

即使是单核处理器也支持多线程执行代码，CPU通过给每个线程分配CPU时间片来实现这个机制。**时间片**是CPU分配给各个线程的时间。因为时间片非常短，所以CPU通过不断的切换线程执行，让我们感觉多个线程是同时执行的，时间片一般是几十毫秒。

CPU通过时间片分配算法来循环执行任务，当前任务执行一个时间片后会切换到下一个任务。在切换前会保存上一个任务的状态，以便下次切换会这个任务，再加载到这个任务的状态。所以任务从保存到再加载的过程就是一次**上下文切换**。

### 多线程一定快吗？

